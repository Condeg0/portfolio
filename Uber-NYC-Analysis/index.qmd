---
title: "NYC Fleet Allocation & Demand Analysis"
author: "Rafael Condé Gomes"
date: 2026-01-27
categories: [R, ggplot2, lubridate, dplyr, Geospatial Analysis, Operational Research]
image: hero_map.png
format:
  html:
    toc: true
    code-fold: true
---

## Executive Summary
Optimizing fleet allocation requires understanding the **spatiotemporal** behaviors of urban populations. This project analyzes **4.5 million Uber pickups** (Apr–Sep 2014) to identify demand clusters, seasonal drift, and fleet scaling opportunities.

**The Goal:** Move from reactive dispatching to predictive positioning.

---

## 1. Geospatial Liquidity Clusters

The first step in allocation strategy is defining the operational boundary.

![](NYC Uber Rise Map.png)

**Analysis:**

The visualization above plots raw latitude/longitude pickup data.
* **The "Manhattan Grid":** 81.2% of liquidity is concentrated in Manhattan (below 59th St) and Downtown Brooklyn.
* **Airport Corridors:** Distinct clusters appear at JFK and LaGuardia, representing high-value, long-distance fares that require separate queuing logic compared to the short-hop Manhattan traffic.

---

## 2. Demand Seasonality
**Professional Metric:** *Temporal Volume Distribution*

Demand is not random; it follows a "human" schedule. By stacking hourly volume across the six month period, we isolate the "invariant" demand curve.

![](Trips by Hours and Month.png)

**Analysis:**

* **The 17:00 Spike:** The data reveals a consistent surge beginning at 16:00 and peaking at 17:00-18:00 across all months (April through September).
* **Operational Implication:** Fleet supply must be "pre-loaded" into the Manhattan Grid by 16:30. Drivers logging on after 17:00 are reacting to demand rather than capturing the initial surge.

---

## 3. Peak-Load Operational Matrix

Aggregates lie; granular data tells the truth. This heatmap exposes the specific windows of highest opportunity cost.

![](Heat Map by Hour and Day of Week.png)

**Analysis:**

* **The "Work Hard, Play Hard" Split:**
    * **Weekdays:** Demand is strictly commuter-driven (07:00–09:00 and 17:00–19:00).
    * **Weekends:** The pattern inverts. Friday and Saturday operational windows extend deep into the night (22:00–02:00), requiring shift incentives for late-night drivers.
* **The Efficiency Void:** The block between 10:00 and 15:00 on weekdays represents "dead miles." Algorithms should deprioritize holding drivers in the city center during these hours.

---

## 4. Fleet Scaling & Market Share

Demand analysis is useless without supply analysis. We tracked the pickup volume by "Base" (Uber's internal fleet codes).

![](Trips by Base and Month.png)

**Analysis:**

* **The "B02617" Anomaly:** While most bases showed steady performance, Base **B02617** (teal bar) demonstrated explosive month-over-month growth, overtaking the incumbent Base B02598 by September.
* **Business Insight:** This suggests a successful aggressive onboarding strategy or a shift in dispatch priority logic implemented in July/August.

---

## Technical Stack
This analysis utilized the **R** statistical ecosystem for its superior handling of large-scale vector data.

* **`ggplot2` & `ggthemes`:** For layering multidimensional data (Time + Location + Volume).
* **`lubridate`:** For parsing 4.5M timestamps into actionable factor levels (Hour, Day, Month).
* **`dplyr`:** For high-performance aggregation and grouping.

```r
# Sample Code: Generating the Heatmap
day_and_hour <- data_2014 %>%
  group_by(Day, Hour) %>%
  dplyr::summarize(Total = n())

ggplot(data = day_and_hour, aes(Day, Hour, fill = Total)) +
  geom_tile(color = "white") +
  ggtitle("Heat Map by Hour and Day")
